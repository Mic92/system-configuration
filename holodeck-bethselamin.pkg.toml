[package]
name        = "holodeck-bethselamin"
version     = "1.0.2"
description = "holodeck: services on Bethselamin"

requires = [
    "hologram-base-hetzner",
]

################################################################################
# identity

[[file]]
path    = "/etc/hostname"
content = "bethselamin"

[[file]]
path    = "/etc/profile.d/prettyprompt.sh"
content = """
    export PRETTYPROMPT_COMMONUSER=stefan
    export PRETTYPROMPT_HOSTCOLOR='0;31'
"""

################################################################################
# network interface configuration as generated by Hetzner's installimage

[[file]]
path    = "/etc/systemd/network/50-hetzner.network"
content = """
    [Match]
    MACAddress=${BETHSELAMIN_MACADDR}

    [Network]
    Address=${BETHSELAMIN_IP6ADDR}/64
    Gateway=fe80::1

    Address=172.31.1.100/24
    Gateway=172.31.1.1
"""
[[symlink]]
path   = "/usr/share/holo/files/50-hetzner-vars/etc/systemd/network/50-hetzner.network.holoscript"
target = "/my/variables"
